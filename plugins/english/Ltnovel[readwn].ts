import { fetchFile, fetchApi } from "@libs/fetch";
import { Filter } from "@libs/filterInputs";
import { Plugin } from "@typings/plugin";
import { NovelStatus } from "@libs/novelStatus";
import { load as parseHTML } from "cheerio";
import { parseMadaraDate } from "@libs/parseMadaraDate";
// import { defaultCover } from "@libs/defaultCover";

export interface ReadwnMetadata {
  id: string;
  sourceSite: string;
  sourceName: string;
  filters?: Filter[];
}

class ReadwnPlugin implements Plugin.PluginBase {
  id: string;
  name: string;
  icon: string;
  site: string;
  version: string;
  userAgent: string;
  cookieString: string;
  filters?: Filter[] | undefined;

  constructor(metadata: ReadwnMetadata) {
    this.id = metadata.id;
    this.name = metadata.sourceName + "[readwn]";
    const iconFileName = metadata.sourceName.replace(/\s+/g, "").toLowerCase();
    this.icon = `multisrc/readwn/icons/${iconFileName}.png`;
    this.site = metadata.sourceSite;
    this.version = "1.0.0";
    this.userAgent = "";
    this.cookieString = "";
    this.filters = metadata.filters;
  }

  async popularNovels(
    pageNo: number,
    { filters, showLatestNovels }: Plugin.PopularNovelsOptions,
  ): Promise<Plugin.NovelItem[]> {
    const novels: Plugin.NovelItem[] = [];
    const baseUrl = this.site;

    let url = baseUrl + "/list/";
    url += (filters?.genres || "all") + "/";
    url += (filters?.status || "all") + "-";
    url +=
      (showLatestNovels ? "lastdotime" : filters?.sort || "newstime") + "-";
    url += pageNo - 1 + ".html";

    if (filters?.tags) {
      url = baseUrl + "/tags/" + filters.tags + "-0.html";
    }

    const result = await fetchApi(url);
    const body = await result.text();

    const loadedCheerio = parseHTML(body);
    loadedCheerio("li.novel-item").each(function () {
      const name = loadedCheerio(this).find("h4").text();
      const url = loadedCheerio(this).find("a").attr("href");
      const cover = loadedCheerio(this).find(".novel-cover > img").attr("data-src");
      if (!name || !url) return;

      novels.push({ name: name, cover: baseUrl + cover, url: baseUrl + url });
    });

    return novels;
  }

  async parseNovelAndChapters(novelUrl: string): Promise<Plugin.SourceNovel> {
    const baseUrl = this.site;
    const result = await fetchApi(novelUrl);
    const body = await result.text();

    let loadedCheerio = parseHTML(body);
    const novel: Plugin.SourceNovel = {
      url: novelUrl,
    };

    novel.name = loadedCheerio("h1.novel-title").text();
    novel.author = loadedCheerio("span[itemprop=author]").text();
    novel.cover =
      baseUrl + loadedCheerio("figure.cover > img").attr("data-src");

    novel.summary = loadedCheerio(".summary")
      .text()
      .replace("Summary", "")
      .trim();

    novel.genres = loadedCheerio("div.categories > ul > li")
      .map((index, element) => loadedCheerio(element).text()?.trim())
      .get()
      .join(",");

    loadedCheerio("div.header-stats > span").each(function () {
      if (loadedCheerio(this).find("small").text() === "Status") {
        novel.status = loadedCheerio(this).find("strong").text();
      }
    });

    const chapters: Plugin.ChapterItem[] = [];
    const latestChapterNo = parseInt(
      loadedCheerio(".header-stats")
        .find("span > strong")
        .first()
        .text()
        .trim(),
    );

    let lastChapterNo = 1;
    loadedCheerio(".chapter-list li").each(function () {
      const name = loadedCheerio(this).find("a .chapter-title").text().trim();
      const url = loadedCheerio(this).find("a").attr("href")?.trim();
      const releaseTime = loadedCheerio(this)
        .find("a .chapter-update")
        .text()
        .trim();
      lastChapterNo = parseInt(
        loadedCheerio(this).find("a .chapter-no").text().trim(),
      );
      if (!name || !url) return;

      chapters.push({
        name,
        releaseTime: parseMadaraDate(releaseTime),
        url: baseUrl + url,
      });
    });
    const novelId =
      "/" + novelUrl.replace(".html", "").replace(this.site, "") + "_";

    // Itterate once more before loop to finish off
    lastChapterNo++;
    for (let i = lastChapterNo; i <= latestChapterNo; i++) {
      const name = "Chapter " + i;
      const releaseTime = null;
      const url = baseUrl + novelId + i + ".html";

      chapters.push({ name, releaseTime, url });
    }

    novel.chapters = chapters;
    return novel;
  }

  async parseChapter(chapterUrl: string): Promise<string> {
    const result = await fetchApi(chapterUrl);
    const body = await result.text();

    const loadedCheerio = parseHTML(body);

    const chapterText = loadedCheerio(".chapter-content").html();
    return chapterText || "";
  }

  async searchNovels(
    searchTerm: string,
    //page: number | undefined = 1,
  ): Promise<Plugin.NovelItem[]> {
    const novels: Plugin.NovelItem[] = [];
    const baseUrl = this.site;
    const searchUrl = baseUrl + "/e/search/index.php";

    const result = await fetchApi(searchUrl, {
      headers: {
        "Content-Type": "application/x-www-form-urlencoded",
        Referer: baseUrl + "search.html",
        Origin: baseUrl,
        "user-agent":
          this.userAgent ||
          "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.131 Safari/537.36",
      },
      method: "POST",
      body: JSON.stringify({
        show: "title",
        tempid: 1,
        tbname: "news",
        keyboard: searchTerm,
      }),
    });
    const body = await result.text();

    const loadedCheerio = parseHTML(body);
    loadedCheerio("li.novel-item").each(function () {
      const name = loadedCheerio(this).find("h4").text();
      const url = loadedCheerio(this).find("a").attr("href");
      const cover = loadedCheerio(this).find("img").attr("data-src");
      if (!name || !url) return;

      novels.push({ name, cover: baseUrl + cover, url: baseUrl + url });
    });

    return novels;
  }

  fetchImage = fetchFile;
}

const plugin = new ReadwnPlugin({"id":"Ltnovel.com","sourceSite":"https://www.ltnovel.com","sourceName":"Ltnovel","filters":[{"key":"sort","label":"Sort By","values":[{"label":"New","value":"newstime"},{"label":"Popular","value":"onclick"},{"label":"Updates","value":"lastdotime"}],"inputType":1},{"key":"status","label":"Status","values":[{"label":"All","value":"all"},{"label":"Completed","value":"Completed"},{"label":"Ongoing","value":"Ongoing"}],"inputType":1},{"key":"genres","label":"Genre / Category","values":[{"label":"All","value":"all"},{"label":"Action","value":"action"},{"label":"Adult","value":"adult"},{"label":"Adventure","value":"adventure"},{"label":"Comedy","value":"comedy"},{"label":"Contemporary Romance","value":"contemporary-romance"},{"label":"Drama","value":"drama"},{"label":"Eastern Fantasy","value":"eastern-fantasy"},{"label":"Ecchi","value":"ecchi"},{"label":"Fantasy","value":"fantasy"},{"label":"Fantasy Romance","value":"fantasy-romance"},{"label":"Game","value":"game"},{"label":"Gender Bender","value":"gender-bender"},{"label":"Harem","value":"harem"},{"label":"Historical","value":"historical"},{"label":"Horror","value":"horror"},{"label":"Josei","value":"josei"},{"label":"Lolicon","value":"lolicon"},{"label":"Magical Realism","value":"magical-realism"},{"label":"Martial Arts","value":"martial-arts"},{"label":"Mature","value":"mature"},{"label":"Mecha","value":"mecha"},{"label":"Mystery","value":"mystery"},{"label":"Psychological","value":"psychological"},{"label":"Romance","value":"romance"},{"label":"School Life","value":"school-life"},{"label":"Sci-fi","value":"sci-fi"},{"label":"Seinen","value":"seinen"},{"label":"Shoujo","value":"shoujo"},{"label":"Shounen","value":"shounen"},{"label":"Shounen Ai","value":"shounen-ai"},{"label":"Slice of Life","value":"slice-of-life"},{"label":"Smut","value":"smut"},{"label":"Sports","value":"sports"},{"label":"Supernatural","value":"supernatural"},{"label":"Tragedy","value":"tragedy"},{"label":"Video Games","value":"video-games"},{"label":"Wuxia","value":"wuxia"},{"label":"Xianxia","value":"xianxia"},{"label":"Xuanhuan","value":"xuanhuan"},{"label":"Yaoi","value":"yaoi"}],"inputType":1},{"key":"tags","label":"Tags","values":[{"label":"Abandoned","value":"910"},{"label":"AbandonedC","value":"213"},{"label":"AbilitySte","value":"166"},{"label":"AbsentPare","value":"250"},{"label":"AbsoluteDu","value":"824"},{"label":"AbusiveCha","value":"196"},{"label":"Academy","value":"43"},{"label":"Accelerate","value":"163"},{"label":"Acting","value":"1"},{"label":"action","value":"639"},{"label":"AdaptedtoA","value":"144"},{"label":"AdaptedtoD","value":"145"},{"label":"AdaptedtoD","value":"170"},{"label":"AdaptedtoG","value":"225"},{"label":"AdaptedtoM","value":"2"},{"label":"AdaptedtoM","value":"167"},{"label":"AdaptedtoM","value":"249"},{"label":"AdaptedtoM","value":"479"},{"label":"AdaptedtoV","value":"485"},{"label":"ADeadBody","value":"883"},{"label":"AdoptedChi","value":"326"},{"label":"AdoptedPro","value":"211"},{"label":"Adultery","value":"573"},{"label":"advancedte","value":"804"},{"label":"Adventure","value":"657"},{"label":"Adventurer","value":"171"},{"label":"Affair","value":"217"},{"label":"AgeProgres","value":"208"},{"label":"AgeRegress","value":"283"},{"label":"Aggressive","value":"440"},{"label":"AkamegaKil","value":"703"},{"label":"Alchemist","value":"616"},{"label":"Alchemy","value":"46"},{"label":"Aliens","value":"137"},{"label":"All-GirlsS","value":"682"},{"label":"Alpha","value":"853"},{"label":"AlternateW","value":"205"},{"label":"Amnesia","value":"131"},{"label":"AmoralityP","value":"711"},{"label":"AmusementP","value":"462"},{"label":"AncientChi","value":"164"},{"label":"AncientTim","value":"193"},{"label":"Androgynou","value":"3"},{"label":"Androids","value":"408"},{"label":"Angel","value":"955"},{"label":"Angels","value":"104"},{"label":"Angst","value":"617"},{"label":"AnimalChar","value":"172"},{"label":"AnimalRear","value":"409"},{"label":"Anime","value":"952"},{"label":"Anl","value":"178"},{"label":"Anti-Magic","value":"527"},{"label":"Anti-socia","value":"194"},{"label":"Antihero","value":"858"},{"label":"AntiheroPr","value":"173"},{"label":"AntiqueSho","value":"493"},{"label":"ApartmentL","value":"327"},{"label":"ApatheticP","value":"169"},{"label":"Apocalypse","value":"206"},{"label":"Appearance","value":"23"},{"label":"Appearance","value":"122"},{"label":"APsychicDe","value":"885"},{"label":"Archery","value":"24"},{"label":"Aristocrac","value":"123"},{"label":"ArmsDealer","value":"569"},{"label":"Army","value":"125"},{"label":"ArmyBuildi","value":"105"},{"label":"ArrangedMa","value":"126"},{"label":"ArrogantCh","value":"4"},{"label":"ArtifactCr","value":"140"},{"label":"Artifacts","value":"127"},{"label":"Artificial","value":"106"},{"label":"Artists","value":"492"},{"label":"ASOIAF","value":"838"},{"label":"Assassins","value":"107"},{"label":"Astrologer","value":"419"},{"label":"Attractive","value":"795"},{"label":"Autism","value":"555"},{"label":"Automatons","value":"236"},{"label":"Avatar&amp","value":"788"},{"label":"Average-lo","value":"49"},{"label":"Award-winn","value":"593"},{"label":"AwkwardPro","value":"304"},{"label":"Baby","value":"915"},{"label":"Badboy","value":"881"},{"label":"Bands","value":"565"},{"label":"Baseball","value":"585"},{"label":"BasedonaMo","value":"770"},{"label":"BasedonanA","value":"719"},{"label":"BasedonaSo","value":"726"},{"label":"BasedonaVi","value":"644"},{"label":"BasedonaVi","value":"721"},{"label":"Basketball","value":"587"},{"label":"BattleAcad","value":"146"},{"label":"BattleComp","value":"128"},{"label":"BDSM","value":"508"},{"label":"BeastCompa","value":"27"},{"label":"Beastkin","value":"179"},{"label":"Beasts","value":"29"},{"label":"Beasttamin","value":"859"},{"label":"Beatthefem","value":"872"},{"label":"Beatthemal","value":"871"},{"label":"BeautifulC","value":"669"},{"label":"BeautifulF","value":"5"},{"label":"Beauty","value":"898"},{"label":"Betrayal","value":"6"},{"label":"BickeringC","value":"218"},{"label":"Bigshot","value":"951"},{"label":"Billionair","value":"975"},{"label":"Biochip","value":"471"},{"label":"BisexualPr","value":"480"},{"label":"Bl","value":"867"},{"label":"BlackBelly","value":"129"},{"label":"Blackmail","value":"320"},{"label":"Blacksmith","value":"192"},{"label":"Bleach","value":"802"},{"label":"BlindProta","value":"358"},{"label":"Bloodlines","value":"32"},{"label":"BloodManip","value":"441"},{"label":"Bloodpumpi","value":"860"},{"label":"Body-doubl","value":"533"},{"label":"Bodyguards","value":"431"},{"label":"BodySwap","value":"628"},{"label":"BodyTemper","value":"34"},{"label":"Books","value":"54"},{"label":"Bookworm","value":"56"},{"label":"Boss-Subor","value":"329"},{"label":"Brainwashi","value":"528"},{"label":"BreastFeti","value":"489"},{"label":"BrokenEnga","value":"120"},{"label":"BrotherCom","value":"311"},{"label":"Brotherhoo","value":"293"},{"label":"Buddhism","value":"209"},{"label":"Bullying","value":"141"},{"label":"BusinessMa","value":"121"},{"label":"Businessme","value":"376"},{"label":"Businesswo","value":"901"},{"label":"Butlers","value":"421"},{"label":"CalmProtag","value":"36"},{"label":"Campus","value":"927"},{"label":"Cannibalis","value":"294"},{"label":"CardGames","value":"478"},{"label":"CarefreePr","value":"219"},{"label":"CaringProt","value":"7"},{"label":"CatchaGhos","value":"893"},{"label":"CautiousPr","value":"157"},{"label":"Celebritie","value":"8"},{"label":"CEO","value":"623"},{"label":"ChaptersRe","value":"687"},{"label":"CharacterD","value":"742"},{"label":"CharacterG","value":"158"},{"label":"Charismati","value":"58"},{"label":"Charlotte(","value":"704"},{"label":"CharmingPr","value":"59"},{"label":"Chatgroup","value":"608"},{"label":"ChatRooms","value":"383"},{"label":"Cheat","value":"771"},{"label":"Cheats","value":"60"},{"label":"Chefs","value":"359"},{"label":"ChildAbuse","value":"331"},{"label":"Childcare","value":"9"},{"label":"ChildhoodF","value":"240"},{"label":"ChildhoodL","value":"10"},{"label":"ChildhoodP","value":"318"},{"label":"Childhoods","value":"870"},{"label":"ChildishPr","value":"515"},{"label":"ChildProta","value":"210"},{"label":"Chinese","value":"808"},{"label":"ChineseNov","value":"807"},{"label":"Chivalryof","value":"823"},{"label":"Chuunibyou","value":"474"},{"label":"ClanBuildi","value":"159"},{"label":"ClassroomO","value":"969"},{"label":"CleverProt","value":"11"},{"label":"ClingyLove","value":"180"},{"label":"Clones","value":"61"},{"label":"Clubs","value":"576"},{"label":"ClumsyLove","value":"499"},{"label":"Cnnilingus","value":"509"},{"label":"Co-Workers","value":"541"},{"label":"Cohabitati","value":"404"},{"label":"ColdLoveIn","value":"165"},{"label":"ColdProtag","value":"38"},{"label":"CollegeorU","value":"224"},{"label":"CollegeUni","value":"536"},{"label":"Coma","value":"544"},{"label":"ComedicUnd","value":"264"},{"label":"Comedy","value":"584"},{"label":"ComingofAg","value":"464"},{"label":"ComplexFam","value":"12"},{"label":"Conditiona","value":"490"},{"label":"ConfidentP","value":"40"},{"label":"Confinemen","value":"684"},{"label":"Conflictin","value":"458"},{"label":"Conquer","value":"863"},{"label":"Contractma","value":"930"},{"label":"Contracts","value":"312"},{"label":"Cooking","value":"245"},{"label":"Coolguy","value":"966"},{"label":"Corruption","value":"138"},{"label":"CosmicWars","value":"422"},{"label":"Counteratt","value":"968"},{"label":"CoupleGrow","value":"214"},{"label":"CourtOffic","value":"465"},{"label":"Cousins","value":"181"},{"label":"CowardlyPr","value":"174"},{"label":"Crafting","value":"108"},{"label":"Crime","value":"220"},{"label":"Criminals","value":"517"},{"label":"Cross-dres","value":"13"},{"label":"Crossdress","value":"933"},{"label":"Crossover","value":"366"},{"label":"CruelChara","value":"284"},{"label":"Crush","value":"919"},{"label":"Cryostasis","value":"553"},{"label":"Cultivatio","value":"42"},{"label":"CunningPro","value":"45"},{"label":"CuriousPro","value":"720"},{"label":"Curses","value":"328"},{"label":"CuteChildr","value":"14"},{"label":"CuteProtag","value":"248"},{"label":"CuteStory","value":"496"},{"label":"Cyberpunk","value":"792"},{"label":"Dancers","value":"566"},{"label":"DanMachi","value":"789"},{"label":"DaoCompani","value":"168"},{"label":"DaoCompreh","value":"47"},{"label":"Daoism","value":"212"},{"label":"Dark","value":"317"},{"label":"DeadProtag","value":"698"},{"label":"Death","value":"406"},{"label":"DeathofLov","value":"139"},{"label":"Debts","value":"562"},{"label":"Delinquent","value":"675"},{"label":"Delusions","value":"443"},{"label":"Demi-Human","value":"226"},{"label":"DemonicCul","value":"195"},{"label":"DemonLord","value":"147"},{"label":"Demons","value":"65"},{"label":"DenseProta","value":"67"},{"label":"Depictions","value":"130"},{"label":"Depression","value":"306"},{"label":"Destiny","value":"305"},{"label":"Detailed","value":"900"},{"label":"Detective","value":"970"},{"label":"Detectives","value":"221"},{"label":"Determined","value":"109"},{"label":"Devil","value":"934"},{"label":"Devils","value":"613"},{"label":"DevotedLov","value":"70"},{"label":"DifferentS","value":"466"},{"label":"Diplomacy","value":"728"},{"label":"Disabiliti","value":"633"},{"label":"Discrimina","value":"132"},{"label":"Disfigurem","value":"420"},{"label":"DishonestP","value":"643"},{"label":"Distrustfu","value":"653"},{"label":"Divination","value":"384"},{"label":"Divination","value":"685"},{"label":"DivineProt","value":"399"},{"label":"Divorce","value":"215"},{"label":"Doctor","value":"902"},{"label":"Doctors","value":"72"},{"label":"DollsorPup","value":"579"},{"label":"DomesticAf","value":"246"},{"label":"doppelgang","value":"625"},{"label":"DotingLove","value":"15"},{"label":"DotingOlde","value":"227"},{"label":"DotingPare","value":"360"},{"label":"DoulouDalu","value":"700"},{"label":"DouluoDalu","value":"787"},{"label":"Dragon","value":"610"},{"label":"DragonBall","value":"791"},{"label":"DragonRide","value":"668"},{"label":"Dragons","value":"48"},{"label":"DragonSlay","value":"361"},{"label":"Dramatic","value":"926"},{"label":"Dreams","value":"477"},{"label":"Drugs","value":"390"},{"label":"Druids","value":"395"},{"label":"DungeonMas","value":"502"},{"label":"Dungeons","value":"110"},{"label":"Dwarfs","value":"111"},{"label":"Dwarves","value":"740"},{"label":"Dystopia","value":"564"},{"label":"e-Sports","value":"271"},{"label":"EarlyRoman","value":"133"},{"label":"EarthInvas","value":"423"},{"label":"EasternSet","value":"597"},{"label":"EasyGoingL","value":"400"},{"label":"Ecchi","value":"956"},{"label":"Economics","value":"112"},{"label":"Egoist","value":"957"},{"label":"EideticMem","value":"50"},{"label":"ElderlyPro","value":"649"},{"label":"Elementali","value":"622"},{"label":"ElementalM","value":"160"},{"label":"Elves","value":"113"},{"label":"Emotionall","value":"321"},{"label":"Empires","value":"182"},{"label":"EnemiesBec","value":"175"},{"label":"EnemiesBec","value":"134"},{"label":"Enemiestol","value":"875"},{"label":"Engagement","value":"307"},{"label":"Engineer","value":"135"},{"label":"Enlightenm","value":"75"},{"label":"Entertainm","value":"830"},{"label":"Episodic","value":"222"},{"label":"Esper","value":"976"},{"label":"Eunuch","value":"753"},{"label":"EuropeanAm","value":"261"},{"label":"EvilGods","value":"232"},{"label":"EvilOrgani","value":"207"},{"label":"EvilProtag","value":"411"},{"label":"EvilReligi","value":"161"},{"label":"EvilSpirit","value":"892"},{"label":"Evolution","value":"265"},{"label":"Ex","value":"908"},{"label":"Exhibition","value":"511"},{"label":"Exorcism","value":"646"},{"label":"EyePowers","value":"51"},{"label":"faceslappi","value":"632"},{"label":"Fairies","value":"114"},{"label":"FairyTail","value":"674"},{"label":"FallenAnge","value":"618"},{"label":"FallenNobi","value":"619"},{"label":"FamilialLo","value":"347"},{"label":"Familiars","value":"556"},{"label":"Family","value":"354"},{"label":"FamilyBusi","value":"437"},{"label":"FamilyConf","value":"335"},{"label":"FamousPare","value":"438"},{"label":"FamousProt","value":"176"},{"label":"Fan-fictio","value":"755"},{"label":"Fanfiction","value":"282"},{"label":"Fantasy","value":"781"},{"label":"FantasyCre","value":"115"},{"label":"FantasyMag","value":"748"},{"label":"Fantasyrom","value":"939"},{"label":"FantasyWor","value":"136"},{"label":"Farming","value":"247"},{"label":"FastCultiv","value":"78"},{"label":"FastLearne","value":"80"},{"label":"Fastpace","value":"967"},{"label":"Fastpaced","value":"938"},{"label":"Fatedlove","value":"888"},{"label":"FatedLover","value":"116"},{"label":"Fatestayni","value":"834"},{"label":"FatProtago","value":"567"},{"label":"FattoFit","value":"488"},{"label":"FearlessPr","value":"497"},{"label":"Fellatio","value":"723"},{"label":"FemaleLead","value":"575"},{"label":"FemaleMast","value":"510"},{"label":"FemaleProt","value":"16"},{"label":"FemaletoMa","value":"727"},{"label":"FengShui","value":"762"},{"label":"Fiction","value":"974"},{"label":"Filipino","value":"813"},{"label":"FilipinoNo","value":"812"},{"label":"Firearms","value":"17"},{"label":"First-time","value":"183"},{"label":"First-time","value":"765"},{"label":"FirstLove","value":"279"},{"label":"Flashbacks","value":"459"},{"label":"FleetBattl","value":"424"},{"label":"Fllatio","value":"184"},{"label":"Folklore","value":"460"},{"label":"FoodShopke","value":"592"},{"label":"Forbiddenl","value":"899"},{"label":"Forcedinto","value":"197"},{"label":"ForcedMarr","value":"198"},{"label":"FormerHero","value":"627"},{"label":"FoxSpirits","value":"531"},{"label":"FriendsBec","value":"407"},{"label":"Friendship","value":"177"},{"label":"Friendstol","value":"903"},{"label":"Futanari","value":"512"},{"label":"Future","value":"868"},{"label":"Futuristic","value":"308"},{"label":"Galge","value":"741"},{"label":"Gambling","value":"330"},{"label":"Game","value":"769"},{"label":"GameElemen","value":"117"},{"label":"GameLit","value":"844"},{"label":"GameofThro","value":"837"},{"label":"GameRankin","value":"118"},{"label":"Gamers","value":"272"},{"label":"Gangs","value":"142"},{"label":"GatetoAnot","value":"337"},{"label":"GenderBend","value":"634"},{"label":"Genderless","value":"699"},{"label":"Generals","value":"369"},{"label":"GeneticMod","value":"295"},{"label":"Genius","value":"862"},{"label":"GeniusProt","value":"143"},{"label":"Gettingbac","value":"907"},{"label":"GhostEvent","value":"886"},{"label":"Ghosts","value":"367"},{"label":"Girl&amp03","value":"746"},{"label":"Gladiators","value":"534"},{"label":"Glasses-we","value":"778"},{"label":"Goblins","value":"346"},{"label":"God-humanR","value":"185"},{"label":"Goddesses","value":"336"},{"label":"GodlyPower","value":"162"},{"label":"GodProtago","value":"287"},{"label":"Gods","value":"52"},{"label":"Golems","value":"270"},{"label":"Gore","value":"237"},{"label":"GraveKeepe","value":"647"},{"label":"Grimdark","value":"827"},{"label":"Grinding","value":"377"},{"label":"Guilds","value":"119"},{"label":"Gunfighter","value":"482"},{"label":"Hackers","value":"216"},{"label":"Half-human","value":"235"},{"label":"Handjob","value":"545"},{"label":"HandsomeMa","value":"18"},{"label":"Hard-Worki","value":"53"},{"label":"HardSci-fi","value":"839"},{"label":"Harem","value":"650"},{"label":"Harem-seek","value":"186"},{"label":"HarryPotte","value":"715"},{"label":"HarshTrain","value":"309"},{"label":"HatedProta","value":"199"},{"label":"Healers","value":"500"},{"label":"Healing","value":"760"},{"label":"Heartthrob","value":"911"},{"label":"Heartwarmi","value":"362"},{"label":"Heaven","value":"620"},{"label":"HeavenlyTr","value":"148"},{"label":"Hell","value":"503"},{"label":"HelpfulPro","value":"453"},{"label":"Hentai","value":"532"},{"label":"Herbalist","value":"442"},{"label":"Heroes","value":"288"},{"label":"Heterochro","value":"55"},{"label":"HiddenAbil","value":"333"},{"label":"HiddenGem","value":"538"},{"label":"Hiddenmarr","value":"943"},{"label":"HidingTrue","value":"57"},{"label":"HidingTrue","value":"251"},{"label":"HighFantas","value":"821"},{"label":"Highiq","value":"920"},{"label":"HighSchool","value":"702"},{"label":"Historical","value":"874"},{"label":"history","value":"724"},{"label":"Hndjob","value":"187"},{"label":"Hokage","value":"756"},{"label":"HonestProt","value":"385"},{"label":"Horror","value":"971"},{"label":"Hospital","value":"535"},{"label":"Hot-bloode","value":"413"},{"label":"Human-Nonh","value":"391"},{"label":"HumanExper","value":"296"},{"label":"HumanoidPr","value":"289"},{"label":"HumanWeapo","value":"310"},{"label":"Hunter×Hu","value":"767"},{"label":"Hunters","value":"266"},{"label":"Hypnotism","value":"392"},{"label":"IdentityCr","value":"831"},{"label":"Immortal","value":"851"},{"label":"Immortals","value":"252"},{"label":"ImperialHa","value":"374"},{"label":"Imposter","value":"854"},{"label":"Incest","value":"355"},{"label":"Incubus","value":"663"},{"label":"Indonesia","value":"819"},{"label":"IndonesiaN","value":"818"},{"label":"Industrial","value":"468"},{"label":"Inferiorit","value":"447"},{"label":"Inheritanc","value":"149"},{"label":"Inscriptio","value":"150"},{"label":"Insects","value":"338"},{"label":"Interconne","value":"290"},{"label":"Interdimen","value":"425"},{"label":"Interstell","value":"963"},{"label":"Introverte","value":"291"},{"label":"Investigat","value":"223"},{"label":"Invincible","value":"954"},{"label":"Invisibili","value":"641"},{"label":"Isekai","value":"833"},{"label":"IsItWrongt","value":"825"},{"label":"JackofAllT","value":"82"},{"label":"Japanese","value":"806"},{"label":"Jealousy","value":"124"},{"label":"Kakashi","value":"757"},{"label":"Karma","value":"614"},{"label":"Kendo","value":"604"},{"label":"Kidnapping","value":"285"},{"label":"Killer","value":"856"},{"label":"KindLoveIn","value":"348"},{"label":"KingdomBui","value":"486"},{"label":"Kingdoms","value":"253"},{"label":"Knights","value":"188"},{"label":"Korean","value":"810"},{"label":"KoreanNove","value":"811"},{"label":"Kuudere","value":"501"},{"label":"LackofComm","value":"439"},{"label":"LateRomanc","value":"19"},{"label":"LazyProtag","value":"254"},{"label":"Leadership","value":"238"},{"label":"Legends","value":"151"},{"label":"leonine","value":"695"},{"label":"LevelSyste","value":"239"},{"label":"Levelup","value":"847"},{"label":"LGBTQA","value":"601"},{"label":"Library","value":"85"},{"label":"LightNovel","value":"809"},{"label":"LimitedLif","value":"86"},{"label":"LitRPG","value":"539"},{"label":"Littlebun","value":"931"},{"label":"LittleRoma","value":"581"},{"label":"LivingAlon","value":"733"},{"label":"Loli","value":"189"},{"label":"Lolicon","value":"286"},{"label":"Loneliness","value":"694"},{"label":"LonerProta","value":"426"},{"label":"LongSepara","value":"190"},{"label":"LostCivili","value":"455"},{"label":"Lottery","value":"563"},{"label":"Loveafterm","value":"962"},{"label":"LoveatFirs","value":"461"},{"label":"LoveIntere","value":"20"},{"label":"LoveRivals","value":"676"},{"label":"LoversReun","value":"350"},{"label":"Lovetriang","value":"905"},{"label":"LoveTriang","value":"349"},{"label":"Low-keyPro","value":"313"},{"label":"LowFantasy","value":"796"},{"label":"LoyalSubor","value":"241"},{"label":"LuckyProta","value":"21"},{"label":"Mafia","value":"877"},{"label":"Mag","value":"953"},{"label":"Mage","value":"631"},{"label":"Magic","value":"292"},{"label":"MagicAcade","value":"590"},{"label":"MagicalGir","value":"543"},{"label":"MagicalSpa","value":"228"},{"label":"MagicalTec","value":"273"},{"label":"MagicBeast","value":"339"},{"label":"MagicForma","value":"62"},{"label":"Maids","value":"255"},{"label":"Malaysian","value":"817"},{"label":"MalaysianN","value":"816"},{"label":"MaleLead","value":"797"},{"label":"MaleProtag","value":"63"},{"label":"MaletoFema","value":"635"},{"label":"MaleYander","value":"401"},{"label":"Management","value":"487"},{"label":"Manipulati","value":"87"},{"label":"ManlyGayCo","value":"754"},{"label":"Marriage","value":"191"},{"label":"Marriageof","value":"718"},{"label":"Martialart","value":"549"},{"label":"MartialSpi","value":"414"},{"label":"Marvel","value":"651"},{"label":"Marysue","value":"921"},{"label":"Masochisti","value":"523"},{"label":"Massacre","value":"790"},{"label":"Master-Dis","value":"88"},{"label":"Master-Ser","value":"89"},{"label":"Masturbati","value":"671"},{"label":"Mature","value":"928"},{"label":"MatureProt","value":"256"},{"label":"Mecha","value":"394"},{"label":"MedicalKno","value":"351"},{"label":"Medieval","value":"580"},{"label":"Mercenarie","value":"314"},{"label":"Merchants","value":"557"},{"label":"Military","value":"257"},{"label":"MindContro","value":"577"},{"label":"Misunderst","value":"22"},{"label":"MMORPG","value":"454"},{"label":"MobProtago","value":"734"},{"label":"Models","value":"280"},{"label":"Modern","value":"909"},{"label":"ModernDay","value":"25"},{"label":"ModernFant","value":"688"},{"label":"ModernKnow","value":"274"},{"label":"ModernLife","value":"972"},{"label":"ModernWorl","value":"686"},{"label":"MoneyGrubb","value":"90"},{"label":"Monster","value":"960"},{"label":"MonsterGir","value":"664"},{"label":"Monsters","value":"64"},{"label":"MonsterSoc","value":"739"},{"label":"MonsterTam","value":"267"},{"label":"Movies","value":"26"},{"label":"Mpreg","value":"546"},{"label":"Msturbatio","value":"677"},{"label":"MultipleId","value":"345"},{"label":"Multiplele","value":"942"},{"label":"MultipleLe","value":"798"},{"label":"MultiplePe","value":"801"},{"label":"MultiplePO","value":"258"},{"label":"MultiplePr","value":"655"},{"label":"MultipleRe","value":"66"},{"label":"MultipleRe","value":"463"},{"label":"MultipleTi","value":"761"},{"label":"MultipleTr","value":"558"},{"label":"Multiverse","value":"681"},{"label":"Murders","value":"636"},{"label":"Music","value":"332"},{"label":"MutatedCre","value":"268"},{"label":"Mutation","value":"945"},{"label":"Mutations","value":"297"},{"label":"MuteCharac","value":"568"},{"label":"MyHeroAcad","value":"751"},{"label":"Mysterious","value":"298"},{"label":"Mysterious","value":"526"},{"label":"Mysterious","value":"152"},{"label":"Mysterious","value":"882"},{"label":"Mystery","value":"848"},{"label":"MysterySol","value":"578"},{"label":"Myth","value":"924"},{"label":"MythicalBe","value":"356"},{"label":"Mythology","value":"469"},{"label":"Mythos","value":"799"},{"label":"NA","value":"814"},{"label":"NaiveProta","value":"322"},{"label":"Narcissist","value":"432"},{"label":"Naruto","value":"652"},{"label":"Nationalis","value":"262"},{"label":"Near-Death","value":"28"},{"label":"Necromance","value":"315"},{"label":"Neet","value":"758"},{"label":"Netorare","value":"707"},{"label":"Netori","value":"498"},{"label":"Ninjas","value":"521"},{"label":"No-Harem","value":"935"},{"label":"Nobles","value":"259"},{"label":"NoCheats","value":"845"},{"label":"Non-Humanl","value":"822"},{"label":"Non-humano","value":"427"},{"label":"Non-humanP","value":"665"},{"label":"Nonhuman","value":"904"},{"label":"NoRomance","value":"642"},{"label":"NotHarem","value":"599"},{"label":"NotYaoi","value":"691"},{"label":"NPC","value":"842"},{"label":"Nudity","value":"472"},{"label":"Nurses","value":"766"},{"label":"ObsessiveL","value":"494"},{"label":"OfficeRoma","value":"648"},{"label":"OlderLoveI","value":"396"},{"label":"Omegaverse","value":"918"},{"label":"Onenightst","value":"917"},{"label":"OnePiece","value":"785"},{"label":"Orcs","value":"363"},{"label":"ordinary","value":"747"},{"label":"OrganizedC","value":"380"},{"label":"OriginalON","value":"793"},{"label":"Orphans","value":"397"},{"label":"OtomeGame","value":"735"},{"label":"Outcasts","value":"583"},{"label":"OuterSpace","value":"378"},{"label":"Overlord","value":"743"},{"label":"Overpowere","value":"846"},{"label":"Overpowere","value":"91"},{"label":"Overpowere","value":"961"},{"label":"Overprotec","value":"729"},{"label":"PacifistPr","value":"744"},{"label":"Paizuri","value":"670"},{"label":"ParallelWo","value":"507"},{"label":"Parasites","value":"629"},{"label":"ParentComp","value":"393"},{"label":"Parody","value":"386"},{"label":"PastPlaysa","value":"200"},{"label":"PastTrauma","value":"201"},{"label":"Persistent","value":"749"},{"label":"Personalit","value":"68"},{"label":"PervertedP","value":"448"},{"label":"Pets","value":"69"},{"label":"Pharmacist","value":"574"},{"label":"Philosophi","value":"456"},{"label":"Phoenixes","value":"153"},{"label":"PillBasedC","value":"415"},{"label":"PillConcoc","value":"92"},{"label":"Pilots","value":"780"},{"label":"Pirates","value":"547"},{"label":"Planets","value":"607"},{"label":"Playboys","value":"630"},{"label":"PlayfulPro","value":"701"},{"label":"Poisons","value":"93"},{"label":"Pokemon","value":"779"},{"label":"Police","value":"518"},{"label":"Politics","value":"242"},{"label":"Polyandry","value":"519"},{"label":"Polygamy","value":"71"},{"label":"PoorProtag","value":"476"},{"label":"PoortoRich","value":"229"},{"label":"Popular","value":"894"},{"label":"PopularLov","value":"30"},{"label":"PortalFant","value":"836"},{"label":"Positive","value":"948"},{"label":"Possession","value":"357"},{"label":"Possessive","value":"31"},{"label":"Possessive","value":"850"},{"label":"Post-apoca","value":"299"},{"label":"PowerCoupl","value":"33"},{"label":"Powerfulco","value":"852"},{"label":"PowerStrug","value":"370"},{"label":"PragmaticP","value":"660"},{"label":"Precogniti","value":"710"},{"label":"Pregnancy","value":"35"},{"label":"PrettyGirl","value":"895"},{"label":"PreviousLi","value":"467"},{"label":"PreviousLi","value":"529"},{"label":"Priestesse","value":"717"},{"label":"Priests","value":"654"},{"label":"Princess","value":"879"},{"label":"Prison","value":"444"},{"label":"ProactiveP","value":"316"},{"label":"Programmer","value":"667"},{"label":"Progressio","value":"800"},{"label":"Prophecies","value":"572"},{"label":"Protagonis","value":"705"},{"label":"Protagonis","value":"94"},{"label":"Protagonis","value":"381"},{"label":"Protagonis","value":"403"},{"label":"Protagonis","value":"737"},{"label":"PsychicPow","value":"260"},{"label":"Psychologi","value":"713"},{"label":"Psychopath","value":"561"},{"label":"QuirkyChar","value":"387"},{"label":"R-15","value":"559"},{"label":"R-18","value":"417"},{"label":"R18","value":"855"},{"label":"RaceChange","value":"73"},{"label":"Races","value":"841"},{"label":"Racism","value":"379"},{"label":"Raids","value":"436"},{"label":"RankSystem","value":"595"},{"label":"Rape","value":"530"},{"label":"Rarebloodl","value":"864"},{"label":"Rebellion","value":"750"},{"label":"Rebirth","value":"491"},{"label":"Reincarnat","value":"74"},{"label":"Reincarnat","value":"95"},{"label":"Reincarnat","value":"428"},{"label":"Reincarnat","value":"605"},{"label":"Reincarnat","value":"689"},{"label":"Reincarnat","value":"722"},{"label":"Religions","value":"398"},{"label":"ResolutePr","value":"697"},{"label":"Restaurant","value":"364"},{"label":"Resurrecti","value":"552"},{"label":"Returningf","value":"412"},{"label":"Revenge","value":"37"},{"label":"ReverseHar","value":"520"},{"label":"ReverseRap","value":"690"},{"label":"ReverseRpe","value":"483"},{"label":"Richfamily","value":"889"},{"label":"RichProtag","value":"803"},{"label":"Righteous","value":"947"},{"label":"RighteousP","value":"540"},{"label":"Romance","value":"638"},{"label":"RomanticSu","value":"154"},{"label":"Royalfamil","value":"873"},{"label":"Royalty","value":"243"},{"label":"Rpe","value":"203"},{"label":"RpeVictimB","value":"202"},{"label":"RuthlessPr","value":"76"},{"label":"RWBY","value":"829"},{"label":"SadisticCh","value":"692"},{"label":"Saints","value":"481"},{"label":"Samurai","value":"683"},{"label":"Satire","value":"835"},{"label":"SaveProtag","value":"772"},{"label":"Saves","value":"300"},{"label":"Scary","value":"937"},{"label":"SchemesAnd","value":"244"},{"label":"Sci-Fantas","value":"606"},{"label":"Sci-fi","value":"679"},{"label":"sciencefic","value":"714"},{"label":"Scientists","value":"388"},{"label":"SealedPowe","value":"155"},{"label":"SecondChan","value":"281"},{"label":"Secretary","value":"932"},{"label":"SecretIden","value":"96"},{"label":"Secretive","value":"890"},{"label":"SecretiveP","value":"708"},{"label":"SecretOrga","value":"548"},{"label":"SecretRela","value":"658"},{"label":"Secrets","value":"319"},{"label":"SectDevelo","value":"475"},{"label":"Sects","value":"410"},{"label":"Seduction","value":"672"},{"label":"Seductive","value":"949"},{"label":"SeeingThin","value":"776"},{"label":"Sekai","value":"958"},{"label":"SelfishPro","value":"470"},{"label":"SelflessPr","value":"738"},{"label":"SentientOb","value":"353"},{"label":"SerialKill","value":"786"},{"label":"Serious","value":"936"},{"label":"SevenDeadl","value":"416"},{"label":"SexualAbus","value":"730"},{"label":"SexualCult","value":"230"},{"label":"ShamelessP","value":"97"},{"label":"Shapeshift","value":"944"},{"label":"Shapeshift","value":"525"},{"label":"SharingABo","value":"783"},{"label":"Sharp-tong","value":"457"},{"label":"Shoujo-AiS","value":"661"},{"label":"Shounen-Ai","value":"596"},{"label":"Showbiz","value":"39"},{"label":"ShyCharact","value":"98"},{"label":"Sibling&am","value":"774"},{"label":"Siblings","value":"505"},{"label":"SiblingsNo","value":"340"},{"label":"SicklyChar","value":"712"},{"label":"Signin","value":"977"},{"label":"Singers","value":"832"},{"label":"Singlefema","value":"946"},{"label":"SinglePare","value":"365"},{"label":"SisterComp","value":"659"},{"label":"SkillAssim","value":"371"},{"label":"SkillBooks","value":"434"},{"label":"SkillCreat","value":"352"},{"label":"Skyrim","value":"554"},{"label":"Slaves","value":"678"},{"label":"Sleeping","value":"275"},{"label":"SliceofLif","value":"621"},{"label":"slow-roman","value":"626"},{"label":"SlowCultiv","value":"624"},{"label":"SlowGrowth","value":"341"},{"label":"SlowRomanc","value":"231"},{"label":"SmartCoupl","value":"41"},{"label":"Smartprota","value":"876"},{"label":"Smut","value":"516"},{"label":"SoftSci-fi","value":"840"},{"label":"Soldiers","value":"449"},{"label":"SoulPower","value":"452"},{"label":"Souls","value":"99"},{"label":"SoundMagic","value":"591"},{"label":"Space","value":"716"},{"label":"Spaceship","value":"600"},{"label":"SpatialMan","value":"233"},{"label":"SpearWield","value":"524"},{"label":"SpecialAbi","value":"269"},{"label":"Spies","value":"731"},{"label":"SpiritAdvi","value":"484"},{"label":"Spirits","value":"372"},{"label":"SpiritUser","value":"645"},{"label":"Sports","value":"586"},{"label":"SportsBask","value":"588"},{"label":"Stepmom","value":"912"},{"label":"StockholmS","value":"495"},{"label":"StoreOwner","value":"276"},{"label":"StrategicB","value":"373"},{"label":"Strategist","value":"435"},{"label":"Strategy","value":"843"},{"label":"Strength-b","value":"301"},{"label":"Strongfema","value":"950"},{"label":"Strongfl","value":"878"},{"label":"StrongLove","value":"156"},{"label":"StrongtoSt","value":"450"},{"label":"StubbornPr","value":"736"},{"label":"Student-Te","value":"513"},{"label":"Studenttea","value":"940"},{"label":"Succubus","value":"673"},{"label":"SuddenStre","value":"77"},{"label":"SuddenWeal","value":"342"},{"label":"Suicides","value":"656"},{"label":"SummonedHe","value":"560"},{"label":"SummoningM","value":"343"},{"label":"Summons","value":"913"},{"label":"SuperAbili","value":"891"},{"label":"SuperHeroe","value":"725"},{"label":"Supernatur","value":"964"},{"label":"Superpower","value":"782"},{"label":"Superstar","value":"922"},{"label":"Survival","value":"302"},{"label":"SurvivalGa","value":"368"},{"label":"Sweet","value":"916"},{"label":"Sweetlove","value":"865"},{"label":"SwordAndMa","value":"344"},{"label":"SwordWield","value":"100"},{"label":"SxFriends","value":"777"},{"label":"SxualAbuse","value":"204"},{"label":"System","value":"537"},{"label":"SystemAdmi","value":"277"},{"label":"Talesof D","value":"752"},{"label":"Teachers","value":"101"},{"label":"Teamwork","value":"542"},{"label":"Technologi","value":"429"},{"label":"Teen","value":"857"},{"label":"Tentacles","value":"666"},{"label":"Terrori","value":"884"},{"label":"ThaiNovel","value":"815"},{"label":"TheAsteris","value":"826"},{"label":"TheDevil","value":"897"},{"label":"TheGamer","value":"828"},{"label":"TheMainCha","value":"896"},{"label":"TheParanor","value":"887"},{"label":"Thestronga","value":"914"},{"label":"Thieves","value":"514"},{"label":"Threesome","value":"706"},{"label":"Thriller","value":"637"},{"label":"TimeLoop","value":"696"},{"label":"TimeManipu","value":"263"},{"label":"TimeParado","value":"430"},{"label":"TimeSkip","value":"234"},{"label":"TimeTravel","value":"389"},{"label":"TimidProta","value":"473"},{"label":"Torture","value":"589"},{"label":"Tragedy","value":"794"},{"label":"TragicPast","value":"44"},{"label":"Transforma","value":"612"},{"label":"Transmigra","value":"102"},{"label":"Transmigra","value":"764"},{"label":"Transplant","value":"768"},{"label":"Transporte","value":"103"},{"label":"Transporte","value":"278"},{"label":"Transporte","value":"375"},{"label":"Transporte","value":"784"},{"label":"Trap","value":"405"},{"label":"Trialmarri","value":"880"},{"label":"Tsundere","value":"382"},{"label":"Twins","value":"506"},{"label":"Twisted","value":"906"},{"label":"TwistedPer","value":"693"},{"label":"UglytoBeau","value":"550"},{"label":"Unconditio","value":"445"},{"label":"Undead","value":"965"},{"label":"Underestim","value":"79"},{"label":"UniqueCult","value":"81"},{"label":"UniqueWeap","value":"418"},{"label":"UniqueWeap","value":"582"},{"label":"UnluckyPro","value":"611"},{"label":"Unprincipl","value":"923"},{"label":"Unreliable","value":"451"},{"label":"Urban","value":"522"},{"label":"Vampire","value":"602"},{"label":"Vampires","value":"323"},{"label":"Videogame","value":"925"},{"label":"VideoGames","value":"973"},{"label":"Vietnamese","value":"820"},{"label":"Villain","value":"861"},{"label":"Villainess","value":"680"},{"label":"Villainpro","value":"941"},{"label":"VirtualRea","value":"433"},{"label":"VoiceActor","value":"446"},{"label":"Warhammer4","value":"732"},{"label":"WarRecords","value":"745"},{"label":"Wars","value":"303"},{"label":"Weak-to-st","value":"959"},{"label":"WeakProtag","value":"324"},{"label":"WeaktoStro","value":"83"},{"label":"WealthyCha","value":"334"},{"label":"WebNovel","value":"805"},{"label":"WebnovelSp","value":"709"},{"label":"WeektoStro","value":"609"},{"label":"Werebeasts","value":"325"},{"label":"Werewolf","value":"849"},{"label":"Wishes","value":"615"},{"label":"Witches","value":"570"},{"label":"Wizards","value":"571"},{"label":"WorldHoppi","value":"504"},{"label":"Worlds","value":"869"},{"label":"WorldTrave","value":"84"},{"label":"WorldTree","value":"640"},{"label":"Writers","value":"662"},{"label":"Wuxia","value":"759"},{"label":"Xianxia","value":"603"},{"label":"Xuanhuan","value":"773"},{"label":"Yandere","value":"402"},{"label":"Yaoi","value":"866"},{"label":"YoungerBro","value":"775"},{"label":"YoungerLov","value":"551"},{"label":"YoungerSis","value":"763"},{"label":"Yuri","value":"929"},{"label":"Zombie","value":"598"},{"label":"Zombies","value":"594"}],"inputType":1}]});
export default plugin;